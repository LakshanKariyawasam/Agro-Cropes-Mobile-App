{"version":3,"sources":["../../src/pages/store/store.module.ts","../../src/pages/store/store.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { StorePage } from './store';\r\nimport { StarRatingModule } from 'ionic3-star-rating';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    StorePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(StorePage),\r\n    StarRatingModule,\r\n  ],\r\n})\r\nexport class StorePageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/store/store.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { NavController, NavParams, Events, IonicPage, ToastController, Content, LoadingController } from 'ionic-angular';\r\nimport { ProductsProvider } from '../../providers/products/products';\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions';\r\nimport { CartProvider } from '../../providers/cart/cart';\r\n\r\n/**\r\n * Generated class for the StorePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-store',\r\n  templateUrl: 'store.html',\r\n})\r\nexport class StorePage {\r\n\r\n  products: any[];\r\n  productRows: any;\r\n  selectProduct: any;\r\n  productCount: number = 1;\r\n  cartItems: any[];\r\n\r\n\r\n  ratingValue: number = 3;\r\n\r\n  @ViewChild('pageTop') pageTop: Content;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    private productService: ProductsProvider,\r\n    private loadingCtrl: LoadingController,\r\n    private events: Events, private nativePageTransitions: NativePageTransitions,\r\n    public navParams: NavParams, public toastCtrl: ToastController, private cartService: CartProvider) {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.loadProducts();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad StorePage');\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n\r\n    let options: NativeTransitionOptions = {\r\n      direction: 'up',\r\n      duration: 500,\r\n      slowdownfactor: 3,\r\n      slidePixels: 20,\r\n      iosdelay: 100,\r\n      androiddelay: 150,\r\n      fixedPixelsTop: 0,\r\n      fixedPixelsBottom: 60\r\n    };\r\n\r\n    this.nativePageTransitions.slide(options)\r\n      .then(() => {\r\n\r\n      })\r\n      .catch((err) => {\r\n\r\n      });\r\n\r\n  }\r\n\r\n  loadProducts() {\r\n    let loader = this.loadingCtrl.create({\r\n      content: 'Loading Promos..'\r\n    });\r\n    loader.present();\r\n    this.productService.getProducts();\r\n    this.events.subscribe('productsLoaded', () => {\r\n      this.products = this.productService.products;\r\n      this.productRows = Array.from(Array(Math.ceil(this.products.length / 2)).keys());\r\n      this.selectProduct = this.products[0];\r\n      loader.dismiss();\r\n    })\r\n  }\r\n\r\n  logRatingChange(rating) {\r\n    console.log(\"changed rating: \", rating);\r\n    this.ratingValue = rating;\r\n    // do your stuff\r\n  }\r\n\r\n  showDetails(product) {\r\n    // let options: NativeTransitionOptions = {\r\n    //   direction: 'up',\r\n    //   duration: 500,\r\n    //   slowdownfactor: 3,\r\n    //   slidePixels: 20,\r\n    //   iosdelay: 100,\r\n    //   androiddelay: 150,\r\n    //   fixedPixelsTop: 0,\r\n    //   fixedPixelsBottom: 60\r\n    // };\r\n    // this.nativePageTransitions.slide(options);\r\n    // this.navCtrl.push(\"SinglePage\", { product: product });\r\n\r\n    this.selectProduct = product;\r\n    this.pageTop.scrollToTop();\r\n    this.productCount = 1;\r\n  }\r\n\r\n  decreaseProductCount() {\r\n    if (this.productCount > 1) {\r\n      this.productCount--;\r\n    }\r\n\r\n  }\r\n\r\n  incrementProductCount() {\r\n    this.productCount++;\r\n\r\n  }\r\n\r\n  addToCart(product) {\r\n    var productPrice = this.productCount * parseInt(product.price);\r\n    let cartProduct = {\r\n      product_id: product.id,\r\n      name: product.name,\r\n      thumb: product.thumb,\r\n      count: this.productCount,\r\n      totalPrice: productPrice\r\n    };\r\n    this.cartService.addToCart(cartProduct).then((val) => {\r\n      this.presentToast(cartProduct.name);\r\n    });\r\n  }\r\n\r\n\r\n  presentToast(name) {\r\n    let toast = this.toastCtrl.create({\r\n      message: `${name} has been added to cart`,\r\n      showCloseButton: true,\r\n      // closeButtonText: 'View Cart'\r\n    });\r\n\r\n    // toast.onDidDismiss(() => {\r\n    //   this.navCtrl.setRoot('TabsPage', { tabIndex: 1 });\r\n    //   // this.navCtrl.push('CartPage');\r\n    // });\r\n    toast.present();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/store/store.ts"],"sourceRoot":""}